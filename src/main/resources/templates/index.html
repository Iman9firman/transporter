<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">

    <title>Home</title>

    <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/fontawesome/all.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/style.css}" />
    <script type="text/javascript" th:src="@{/webjars/jquery/jquery.min.js}" ></script>
    <script type="text/javascript" th:src="@{/webjars/bootstrap/js/bootstrap.min.js}" ></script>

</head>
<body>
<div class="container-fluid">
    <br>
    <div class="text-center">
        <div class="logout">
            <form th:action="@{/logout}" method="post" >
                <input type="submit" value="Logout" class="btn btn-danger"/>
            </form>
        </div>
        <h1>CMS</h1>
    </div>

    <div th:if="${message != null}" class="alert alert-success text-center" >
        [[${message}]]
    </div>

    <div>
        <form th:action="@{/home/1}" class="form-inline m-3">
            <input type="hidden" name="sortDir" th:value="${sortDir}" >
            Filter : &nbsp;

            <input type="search" placeholder="Date" name="keyword" th:value="${keyword}" class="form-control" required/>
            &nbsp;&nbsp;
            <input type="submit" value="Search" class="btn btn-primary" />
            &nbsp;&nbsp;
            <input type="button" value="Clear" class="btn btn-secondary" onclick="clearFilter()"/>
        </form>

    </div>

    <div>
        <table class="table table-bordered table-hover table-striped table-responsive-xL">
            <thead class ="thead-dark">
            <tr>
                <th>
                    No
                </th>
                <th>
                    Table
                </th>
                <th>
                    Count
                </th>
                <th>
                    Details
                </th>
            </tr>
            </thead>

            <tbody>
            <tr th:each="result, hh : ${listReports}">
                <td th:text="${hh.index+startCount}"></td>
<!--                <td>[[${result.id}]]</td>-->
                <td>result_[[${result.date}]]</td>
                <td>[[${result.count}]]</td>
                <td>
<!--                    <a th:href="@{/report/export/excel}">Export to Excel</a>-->
                    <a th:href="@{${'/detail/'+ result.date}}" >View Detail</a>
                </td>

            </tr>
            </tbody>

        </table>
    </div>

    <div class="text-center m-1" th:if="${totalItems > 0}")>
        <span>Showing Report # [[${startCount}]] to [[${endCount}]] of [[${totalItems}]]</span>
    </div>
    <div class="text-center m-1 " th:unless="${totalItems > 0} " >
        <span>No Report Found</span>
    </div>

    <div th:if="${totalPages > 1}")>
        <div th:replace="fragments :: pagination('/home/')"></div>
    </div>

</div>

<script type="text/javascript">
	$(document).ready(function() {


	});

	function clearFilter(){
		window.location="[[@{/}]]";
	}


</script>
</body>

</html>